<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ•°æ®åº“ E-R å…³ç³»å›¾</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.9.1/mermaid.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft YaHei', 'å¾®è½¯é›…é»‘', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
        }
        
        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        header p {
            font-size: 1.1em;
            opacity: 0.9;
        }
        
        .content {
            padding: 40px 30px;
        }
        
        .section {
            margin-bottom: 50px;
        }
        
        .section-title {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.4em;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 2px solid #667eea;
        }
        
        .section-icon {
            font-size: 1.3em;
            width: 40px;
            height: 40px;
            background: #667eea;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .diagram-container {
            background: #f9f9f9;
            border: 2px dashed #667eea;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
            overflow: auto;
        }
        
        .description-box {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #667eea;
        }
        
        .description-box h4 {
            color: #667eea;
            margin-bottom: 8px;
        }
        
        .description-box p {
            color: #666;
            font-size: 0.95em;
            line-height: 1.6;
        }
        
        .entity-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
        }
        
        .entity-table th {
            background: #667eea;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: bold;
        }
        
        .entity-table td {
            padding: 10px 12px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .entity-table tr:hover {
            background: #f5f5f5;
        }
        
        .entity-table .entity-name {
            font-weight: bold;
            color: #667eea;
        }
        
        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: bold;
            margin-right: 5px;
        }
        
        .badge-primary {
            background: #ff6b6b;
            color: white;
        }
        
        .badge-foreign {
            background: #4ecdc4;
            color: white;
        }
        
        .badge-unique {
            background: #45b7d1;
            color: white;
        }
        
        .relationship-list {
            margin: 20px 0;
        }
        
        .relationship-item {
            background: white;
            border-left: 4px solid #667eea;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 4px;
        }
        
        .relationship-item strong {
            color: #667eea;
        }
        
        .constraint {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 10px 15px;
            margin: 10px 0;
            border-radius: 4px;
            font-size: 0.9em;
        }
        
        .mermaid {
            display: flex;
            justify-content: center;
        }
        
        .legend {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            background: white;
            padding: 10px;
            border-radius: 4px;
            border: 1px solid #e0e0e0;
        }
        
        .legend-color {
            width: 30px;
            height: 20px;
            border-radius: 3px;
        }
        
        footer {
            background: #f5f5f5;
            padding: 20px;
            text-align: center;
            color: #999;
            border-top: 1px solid #e0e0e0;
        }
        
        @media (max-width: 768px) {
            .container {
                border-radius: 0;
            }
            
            .entity-table {
                font-size: 0.9em;
            }
            
            header h1 {
                font-size: 1.8em;
            }
        }
        
        .summary-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .stat-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }
        
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ“Š æ•°æ®åº“ E-R å…³ç³»å›¾</h1>
            <p>SSO OAuth2.0 å­¦æœ¯ä¿¡æ¯ç³»ç»Ÿ - æ•°æ®æ¨¡å‹è®¾è®¡</p>
        </header>
        
        <div class="content">
            <div class="summary-stats">
                <div class="stat-box">
                    <div class="stat-number">20+</div>
                    <div class="stat-label">æ•°æ®åº“è¡¨</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number">50+</div>
                    <div class="stat-label">å­—æ®µå±æ€§</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number">15+</div>
                    <div class="stat-label">å…³ç³»æ˜ å°„</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number">MySQL</div>
                    <div class="stat-label">8.0+</div>
                </div>
            </div>
            
            <!-- å®Œæ•´E-Rå›¾ -->
            <div class="section">
                <div class="section-title">
                    <div class="section-icon">ğŸ”—</div>
                    <span>å®Œæ•´æ•°æ®åº“ E-R å…³ç³»å›¾</span>
                </div>
                
                <div class="description-box">
                    <h4>ç³»ç»Ÿè¯´æ˜</h4>
                    <p>
                        ä¸‹å›¾å±•ç¤ºäº†å­¦æœ¯ä¿¡æ¯ç³»ç»Ÿçš„å®Œæ•´æ•°æ®åº“æ¨¡å‹ï¼ŒåŒ…æ‹¬ç”¨æˆ·ç®¡ç†ã€è¯¾ç¨‹ç®¡ç†ã€ä½œä¸šç³»ç»Ÿã€èµ„æºç®¡ç†ç­‰æ ¸å¿ƒæ¨¡å—ã€‚
                        é‡‡ç”¨å…³ç³»å‹æ•°æ®åº“è®¾è®¡ï¼Œæ”¯æŒå¤æ‚çš„ä¸šåŠ¡å…³ç³»ã€‚
                    </p>
                </div>
                
                <div class="diagram-container">
                    <div class="mermaid">
erDiagram
    "ç”¨æˆ·" ||--o{ "å­¦ç”Ÿ" : has
    "ç”¨æˆ·" ||--o{ "æ•™å¸ˆ" : has
    "ç”¨æˆ·" ||--o{ "é€šçŸ¥" : receives
    "ç”¨æˆ·" ||--o{ "ç™»å½•æ—¥å¿—" : creates
    
    "æ•™å¸ˆ" ||--o{ "è¯¾ç¨‹" : teaches
    "æ•™å¸ˆ" ||--o{ "è¯¾ç¨‹å…¬å‘Š" : publishes
    "æ•™å¸ˆ" ||--o{ "ä½œä¸š" : assigns
    "æ•™å¸ˆ" ||--o{ "è¯¾ç¨‹èµ„æº" : manages
    "æ•™å¸ˆ" ||--o{ "é€‰è¯¾ç”³è¯·" : processes
    
    "å­¦ç”Ÿ" ||--o{ "é€‰è¯¾" : enrolls
    "å­¦ç”Ÿ" ||--o{ "ä½œä¸šæäº¤" : submits
    "å­¦ç”Ÿ" ||--o{ "å­¦ä¹ æ—¥å¿—" : creates
    "å­¦ç”Ÿ" ||--o{ "é€‰è¯¾ç”³è¯·" : requests
    
    "è¯¾ç¨‹" ||--o{ "é€‰è¯¾" : has
    "è¯¾ç¨‹" ||--o{ "è¯¾ç¨‹å…¬å‘Š" : has
    "è¯¾ç¨‹" ||--o{ "ä½œä¸š" : has
    "è¯¾ç¨‹" ||--o{ "è¯¾ç¨‹èµ„æº" : has
    "è¯¾ç¨‹" ||--o{ "è¯¾ç¨‹æ—¶é—´è¡¨" : has
    
    "ä½œä¸š" ||--o{ "ä½œä¸šæäº¤" : receives
    "ä½œä¸š" ||--o{ "ä½œä¸šèµ„æº" : has
    
    "ä½œä¸šæäº¤" ||--o{ "æäº¤æ–‡ä»¶" : includes
    
    "è¯¾ç¨‹èµ„æº" ||--o{ "èµ„æºæ ‡ç­¾" : tagged_with
    
    "å­¦ç”Ÿ" ||--o{ "å­¦ä¹ æ—¥å¿—" : generates
    "è¯¾ç¨‹" ||--o{ "å­¦ä¹ æ—¥å¿—" : recorded_in
                    </div>
                </div>
            </div>
            
            <!-- å®ä½“è¯¦è§£ -->
            <div class="section">
                <div class="section-title">
                    <div class="section-icon">ğŸ“‹</div>
                    <span>æ ¸å¿ƒå®ä½“åŠå±æ€§è¯¦è§£</span>
                </div>
                
                <!-- ç”¨æˆ·ç®¡ç†è¡¨ -->
                <div class="description-box">
                    <h4>ç”¨æˆ·ç®¡ç†æ¨¡å— (User Management)</h4>
                    <p>
                        åŒ…å«ç”¨æˆ·åŸºç¡€ä¿¡æ¯è¡¨åŠå…¶è§’è‰²ç‰¹å®šä¿¡æ¯è¡¨ã€‚é‡‡ç”¨å•è¡¨ç»§æ‰¿å’Œè¿æ¥è¡¨ç»§æ‰¿çš„æ··åˆç­–ç•¥ã€‚
                    </p>
                </div>
                
                <table class="entity-table">
                    <thead>
                        <tr>
                            <th>è¡¨å</th>
                            <th>è¯´æ˜</th>
                            <th>ä¸»è¦å­—æ®µ</th>
                            <th>å…³é”®ç‰¹æ€§</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><span class="entity-name">users</span></td>
                            <td>ç³»ç»Ÿç”¨æˆ·åŸºè¡¨</td>
                            <td>id, username, password_hash, role, email, is_active, created_at</td>
                            <td>
                                <span class="badge badge-primary">Primary Key</span>
                                <span class="badge badge-unique">Unique(username)</span>
                            </td>
                        </tr>
                        <tr>
                            <td><span class="entity-name">students</span></td>
                            <td>å­¦ç”Ÿä¿¡æ¯è¡¨</td>
                            <td>id, user_id, student_no, major, department, grade, advisor_id, status</td>
                            <td>
                                <span class="badge badge-foreign">FK(user_id)</span>
                                <span class="badge badge-foreign">FK(advisor_id)</span>
                            </td>
                        </tr>
                        <tr>
                            <td><span class="entity-name">teachers</span></td>
                            <td>æ•™å¸ˆä¿¡æ¯è¡¨</td>
                            <td>id, user_id, teacher_no, department, title, office, status</td>
                            <td>
                                <span class="badge badge-foreign">FK(user_id)</span>
                            </td>
                        </tr>
                        <tr>
                            <td><span class="entity-name">login_logs</span></td>
                            <td>ç™»å½•æ—¥å¿—è¡¨</td>
                            <td>id, user_id, ip_address, user_agent, login_time, is_successful</td>
                            <td>
                                <span class="badge badge-foreign">FK(user_id)</span>
                                å®¡è®¡è¿½è¸ª
                            </td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="constraint">
                    <strong>ğŸ’¡ çº¦æŸæ¡ä»¶ï¼š</strong>
                    <ul style="margin-top: 8px; padding-left: 20px;">
                        <li>Student.user_id å’Œ Teacher.user_id å½¢æˆä¸€ä¸€å…³ç³»ï¼Œä¸€ä¸ªç”¨æˆ·åªèƒ½æ˜¯å­¦ç”Ÿæˆ–æ•™å¸ˆ</li>
                        <li>Student.advisor_id å¤–é”®æŒ‡å‘ Teacher.idï¼Œå»ºç«‹å¸ˆç”Ÿå¯¼å¸ˆå…³ç³»</li>
                        <li>ç”¨æˆ·å¯†ç ä½¿ç”¨ PBKDF2 åŠ å¯†å­˜å‚¨</li>
                    </ul>
                </div>
                
                <!-- è¯¾ç¨‹ç®¡ç†è¡¨ -->
                <div class="description-box" style="margin-top: 30px;">
                    <h4>è¯¾ç¨‹ç®¡ç†æ¨¡å— (Course Management)</h4>
                    <p>
                        å¤„ç†è¯¾ç¨‹ä¿¡æ¯ã€é€‰è¯¾ã€è¯¾è¡¨ã€å…¬å‘Šç­‰è¯¾ç¨‹ç›¸å…³çš„æ•°æ®ã€‚
                    </p>
                </div>
                
                <table class="entity-table">
                    <thead>
                        <tr>
                            <th>è¡¨å</th>
                            <th>è¯´æ˜</th>
                            <th>ä¸»è¦å­—æ®µ</th>
                            <th>å…³é”®ç‰¹æ€§</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><span class="entity-name">courses</span></td>
                            <td>è¯¾ç¨‹ä¸»è¡¨</td>
                            <td>id, code, title, teacher_id, credits, semester, year, location, max_students</td>
                            <td>
                                <span class="badge badge-primary">Primary Key</span>
                                <span class="badge badge-unique">Unique(code)</span>
                                <span class="badge badge-foreign">FK(teacher_id)</span>
                            </td>
                        </tr>
                        <tr>
                            <td><span class="entity-name">enrollments</span></td>
                            <td>é€‰è¯¾è®°å½•è¡¨</td>
                            <td>id, student_id, course_id, grade, status, enrolled_at, dropped_at</td>
                            <td>
                                <span class="badge badge-foreign">FK(student_id)</span>
                                <span class="badge badge-foreign">FK(course_id)</span>
                                å¤šå¯¹å¤šå…³ç³»
                            </td>
                        </tr>
                        <tr>
                            <td><span class="entity-name">course_schedules</span></td>
                            <td>è¯¾è¡¨è®°å½•è¡¨</td>
                            <td>id, course_id, day, slot, location, start_date, end_date, is_recurring</td>
                            <td>
                                <span class="badge badge-foreign">FK(course_id)</span>
                                æ”¯æŒé‡å¤è¯¾è¡¨
                            </td>
                        </tr>
                        <tr>
                            <td><span class="entity-name">course_announcements</span></td>
                            <td>è¯¾ç¨‹å…¬å‘Šè¡¨</td>
                            <td>id, title, content, teacher_id, is_pinned, is_public, created_at</td>
                            <td>
                                <span class="badge badge-foreign">FK(teacher_id)</span>
                                æ”¯æŒå…¬å¼€/ç§æœ‰
                            </td>
                        </tr>
                        <tr>
                            <td><span class="entity-name">enrollment_requests</span></td>
                            <td>é€‰è¯¾ç”³è¯·è¡¨</td>
                            <td>id, student_id, course_id, reason, status, processed_by, processed_at</td>
                            <td>
                                <span class="badge badge-foreign">FK(student_id)</span>
                                <span class="badge badge-foreign">FK(course_id)</span>
                                å·¥ä½œæµç®¡ç†
                            </td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="constraint">
                    <strong>ğŸ’¡ çº¦æŸæ¡ä»¶ï¼š</strong>
                    <ul style="margin-top: 8px; padding-left: 20px;">
                        <li>Enrollment å®ç°å­¦ç”Ÿ(Student)å’Œè¯¾ç¨‹(Course)ä¹‹é—´çš„å¤šå¯¹å¤šå…³ç³»</li>
                        <li>è¯¾ç¨‹ä»£ç (code)å…¨å±€å”¯ä¸€ï¼Œç”¨äºæ ‡è¯†ä¸åŒè¯¾ç¨‹</li>
                        <li>é€‰è¯¾ç”³è¯·çŠ¶æ€æµè½¬ï¼špending â†’ approved/rejected</li>
                    </ul>
                </div>
                
                <!-- ä½œä¸šç³»ç»Ÿè¡¨ -->
                <div class="description-box" style="margin-top: 30px;">
                    <h4>ä½œä¸šç³»ç»Ÿæ¨¡å— (Assignment System)</h4>
                    <p>
                        ç®¡ç†ä½œä¸šå‘å¸ƒã€å­¦ç”Ÿæäº¤ã€æ–‡ä»¶ç®¡ç†å’Œè¯„åˆ†åŠŸèƒ½ã€‚
                    </p>
                </div>
                
                <table class="entity-table">
                    <thead>
                        <tr>
                            <th>è¡¨å</th>
                            <th>è¯´æ˜</th>
                            <th>ä¸»è¦å­—æ®µ</th>
                            <th>å…³é”®ç‰¹æ€§</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><span class="entity-name">assignments</span></td>
                            <td>ä½œä¸šä¸»è¡¨</td>
                            <td>id, title, description, course_id, teacher_id, max_score, due_date, is_published</td>
                            <td>
                                <span class="badge badge-foreign">FK(course_id)</span>
                                <span class="badge badge-foreign">FK(teacher_id)</span>
                            </td>
                        </tr>
                        <tr>
                            <td><span class="entity-name">assignment_submissions</span></td>
                            <td>ä½œä¸šæäº¤è¡¨</td>
                            <td>id, assignment_id, student_id, content, score, feedback, submitted_at, is_late</td>
                            <td>
                                <span class="badge badge-foreign">FK(assignment_id)</span>
                                <span class="badge badge-foreign">FK(student_id)</span>
                                æ”¯æŒè¿Ÿäº¤æ£€æµ‹
                            </td>
                        </tr>
                        <tr>
                            <td><span class="entity-name">submission_files</span></td>
                            <td>æäº¤æ–‡ä»¶è¡¨</td>
                            <td>id, submission_id, filename, file_path, file_size, mime_type, uploaded_at</td>
                            <td>
                                <span class="badge badge-foreign">FK(submission_id)</span>
                                æ–‡ä»¶å…ƒæ•°æ®ç®¡ç†
                            </td>
                        </tr>
                        <tr>
                            <td><span class="entity-name">assignment_resources</span></td>
                            <td>ä½œä¸šèµ„æºè¡¨</td>
                            <td>id, assignment_id, title, file_path, file_size, mime_type</td>
                            <td>
                                <span class="badge badge-foreign">FK(assignment_id)</span>
                                æ•™å¸ˆå‘å¸ƒèµ„æº
                            </td>
                        </tr>
                    </tbody>
                </table>
                
                <!-- èµ„æºç®¡ç†è¡¨ -->
                <div class="description-box" style="margin-top: 30px;">
                    <h4>èµ„æºç®¡ç†æ¨¡å— (Resource Management)</h4>
                    <p>
                        ç®¡ç†è¯¾ç¨‹èµ„æºã€æ ‡ç­¾ã€æƒé™ç­‰ã€‚
                    </p>
                </div>
                
                <table class="entity-table">
                    <thead>
                        <tr>
                            <th>è¡¨å</th>
                            <th>è¯´æ˜</th>
                            <th>ä¸»è¦å­—æ®µ</th>
                            <th>å…³é”®ç‰¹æ€§</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><span class="entity-name">course_resources</span></td>
                            <td>è¯¾ç¨‹èµ„æºè¡¨</td>
                            <td>id, title, description, course_id, teacher_id, file_path, is_public, download_count</td>
                            <td>
                                <span class="badge badge-foreign">FK(course_id)</span>
                                <span class="badge badge-foreign">FK(teacher_id)</span>
                                ä¸‹è½½è®¡æ•°
                            </td>
                        </tr>
                        <tr>
                            <td><span class="entity-name">resource_tags</span></td>
                            <td>èµ„æºæ ‡ç­¾è¡¨</td>
                            <td>id, name, color</td>
                            <td>
                                <span class="badge badge-unique">Unique(name)</span>
                                æ”¯æŒé¢œè‰²æ ‡ç­¾
                            </td>
                        </tr>
                        <tr>
                            <td><span class="entity-name">resource_tags (å…³è”)</span></td>
                            <td>èµ„æº-æ ‡ç­¾å¤šå¯¹å¤š</td>
                            <td>resource_id, tag_id</td>
                            <td>å¤šå¯¹å¤šå…³ç³»</td>
                        </tr>
                    </tbody>
                </table>
                
                <!-- é€šçŸ¥ç³»ç»Ÿè¡¨ -->
                <div class="description-box" style="margin-top: 30px;">
                    <h4>é€šçŸ¥ç³»ç»Ÿæ¨¡å— (Notification System)</h4>
                    <p>
                        ç®¡ç†ç³»ç»Ÿé€šçŸ¥å’Œå®æ—¶æ¶ˆæ¯ã€‚
                    </p>
                </div>
                
                <table class="entity-table">
                    <thead>
                        <tr>
                            <th>è¡¨å</th>
                            <th>è¯´æ˜</th>
                            <th>ä¸»è¦å­—æ®µ</th>
                            <th>å…³é”®ç‰¹æ€§</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><span class="entity-name">notifications</span></td>
                            <td>é€šçŸ¥è¡¨</td>
                            <td>id, user_id, title, content, type, related_id, is_read, created_at</td>
                            <td>
                                <span class="badge badge-foreign">FK(user_id)</span>
                                å¤šç§ç±»å‹é€šçŸ¥
                            </td>
                        </tr>
                    </tbody>
                </table>
                
                <!-- ç³»ç»Ÿé…ç½®è¡¨ -->
                <div class="description-box" style="margin-top: 30px;">
                    <h4>ç³»ç»Ÿé…ç½®æ¨¡å— (System Configuration)</h4>
                    <p>
                        å­˜å‚¨ç³»ç»Ÿçº§é…ç½®å‚æ•°ã€‚
                    </p>
                </div>
                
                <table class="entity-table">
                    <thead>
                        <tr>
                            <th>è¡¨å</th>
                            <th>è¯´æ˜</th>
                            <th>ä¸»è¦å­—æ®µ</th>
                            <th>å…³é”®ç‰¹æ€§</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><span class="entity-name">system_configs</span></td>
                            <td>ç³»ç»Ÿé…ç½®è¡¨</td>
                            <td>id, key, value, description, is_public, updated_at</td>
                            <td>
                                <span class="badge badge-unique">Unique(key)</span>
                                é”®å€¼å¯¹å­˜å‚¨
                            </td>
                        </tr>
                        <tr>
                            <td><span class="entity-name">study_logs</span></td>
                            <td>å­¦ä¹ æ—¥å¿—è¡¨</td>
                            <td>id, student_id, course_id, activity_type, details, duration, created_at</td>
                            <td>
                                <span class="badge badge-foreign">FK(student_id)</span>
                                è¡Œä¸ºè¿½è¸ª
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <!-- å…³ç³»è¯´æ˜ -->
            <div class="section">
                <div class="section-title">
                    <div class="section-icon">ğŸ”€</div>
                    <span>å…³é”®å…³ç³»è¯´æ˜</span>
                </div>
                
                <div class="relationship-list">
                    <div class="relationship-item">
                        <strong>ä¸€å¯¹å¤š (1:N)</strong><br>
                        æ•™å¸ˆ â†’ è¯¾ç¨‹ (ä¸€ä¸ªæ•™å¸ˆå¯ä»¥æ•™å¤šä¸ªè¯¾ç¨‹)<br>
                        è¯¾ç¨‹ â†’ é€‰è¯¾ (ä¸€ä¸ªè¯¾ç¨‹å¯ä»¥æœ‰å¤šä¸ªå­¦ç”Ÿé€‰è¯¾)<br>
                        è¯¾ç¨‹ â†’ ä½œä¸š (ä¸€ä¸ªè¯¾ç¨‹å¯ä»¥å‘å¸ƒå¤šä¸ªä½œä¸š)<br>
                        ä½œä¸š â†’ æäº¤ (ä¸€ä¸ªä½œä¸šå¯ä»¥æ”¶åˆ°å¤šä¸ªå­¦ç”Ÿçš„æäº¤)
                    </div>
                    
                    <div class="relationship-item">
                        <strong>å¤šå¯¹å¤š (N:N)</strong><br>
                        å­¦ç”Ÿ â†â†’ è¯¾ç¨‹ (é€šè¿‡ enrollments è¡¨)<br>
                        è¯¾ç¨‹èµ„æº â†â†’ æ ‡ç­¾ (é€šè¿‡ resource_tags å…³è”è¡¨)<br>
                        è¯¾ç¨‹ â†â†’ å…¬å‘Š (é€šè¿‡ announcement_courses å…³è”è¡¨)
                    </div>
                    
                    <div class="relationship-item">
                        <strong>è‡ªå…³ç³»</strong><br>
                        Student.advisor_id â†’ Teacher.id (å­¦ç”Ÿçš„å¯¼å¸ˆæ˜¯æ•™å¸ˆï¼Œå½¢æˆå¸ˆç”Ÿå…³ç³»)
                    </div>
                    
                    <div class="relationship-item">
                        <strong>ç»„åˆå…³ç³»</strong><br>
                        User ä½œä¸ºåŸºç±»ï¼Œé€šè¿‡å¤–é”®ä¸ Student å’Œ Teacher å½¢æˆä¸€ä¸€æˆ–é›¶ä¸€å¤šçš„å…³ç³»ã€‚<br>
                        ä¸€ä¸ªç”¨æˆ·è´¦å·å¯ä»¥ç»‘å®šå­¦ç”Ÿèº«ä»½æˆ–æ•™å¸ˆèº«ä»½ã€‚
                    </div>
                </div>
            </div>
            
            <!-- è®¾è®¡åŸåˆ™ -->
            <div class="section">
                <div class="section-title">
                    <div class="section-icon">ğŸ“</div>
                    <span>æ•°æ®åº“è®¾è®¡åŸåˆ™</span>
                </div>
                
                <div class="description-box">
                    <h4>è§„èŒƒåŒ–è®¾è®¡</h4>
                    <p>
                        æ•°æ®åº“éµå¾ªç¬¬ä¸‰èŒƒå¼(3NF)è®¾è®¡åŸåˆ™ï¼Œæ¶ˆé™¤äº†å†—ä½™æ•°æ®ï¼Œæ¯ä¸ªè¡¨éƒ½æœ‰æ˜ç¡®çš„ä¸»é”®ï¼Œ
                        å¤–é”®å…³ç³»å®Œæ•´å®šä¹‰ï¼Œç¡®ä¿æ•°æ®çš„ä¸€è‡´æ€§å’Œå®Œæ•´æ€§ã€‚
                    </p>
                </div>
                
                <div class="description-box">
                    <h4>ç´¢å¼•ç­–ç•¥</h4>
                    <p>
                        åœ¨ä»¥ä¸‹å­—æ®µå»ºç«‹ç´¢å¼•ä»¥æé«˜æŸ¥è¯¢æ€§èƒ½ï¼š<br>
                        â€¢ users: username, email<br>
                        â€¢ courses: code<br>
                        â€¢ students: student_no<br>
                        â€¢ teachers: teacher_no<br>
                        â€¢ å¤–é”®å­—æ®µï¼šæ‰€æœ‰ *_id å­—æ®µ
                    </p>
                </div>
                
                <div class="description-box">
                    <h4>æ—¶é—´è¿½è¸ª</h4>
                    <p>
                        å¤§å¤šæ•°è¡¨éƒ½åŒ…å« created_at å’Œ updated_at å­—æ®µï¼Œæ”¯æŒè‡ªåŠ¨æ—¶é—´æˆ³æ›´æ–°ï¼Œ
                        ä¾¿äºå®¡è®¡ã€æ—¥å¿—å’Œæ•°æ®æ¢å¤ã€‚
                    </p>
                </div>
                
                <div class="description-box">
                    <h4>çŠ¶æ€ç®¡ç†</h4>
                    <p>
                        ä½¿ç”¨ status å­—æ®µç®¡ç†ä¸šåŠ¡å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸçŠ¶æ€ï¼Œä¾‹å¦‚ï¼š<br>
                        â€¢ Student: active, suspended, graduated<br>
                        â€¢ Teacher: active, suspended, resigned<br>
                        â€¢ Enrollment: active, dropped, completed<br>
                        â€¢ EnrollmentRequest: pending, approved, rejected
                    </p>
                </div>
                
                <div class="description-box">
                    <h4>å­—ç¬¦é›†æ”¯æŒ</h4>
                    <p>
                        æ‰€æœ‰è¡¨éƒ½ä½¿ç”¨ utf8mb4 å­—ç¬¦é›†å’Œ utf8mb4_unicode_ci æ ¡éªŒé›†ï¼Œ
                        å®Œç¾æ”¯æŒä¸­æ–‡ã€emoji å’Œå…¶ä»– Unicode å­—ç¬¦ã€‚
                    </p>
                </div>
            </div>
            
            <!-- æ‰©å±•å­—æ®µè¯´æ˜ -->
            <div class="section">
                <div class="section-title">
                    <div class="section-icon">â•</div>
                    <span>å¯é€‰æ‰©å±•å­—æ®µå»ºè®®</span>
                </div>
                
                <div class="description-box">
                    <h4>æ€§èƒ½ç›‘æ§å­—æ®µ</h4>
                    <p>
                        åœ¨ç›¸å…³è¡¨ä¸­æ·»åŠ ä»¥æ”¯æŒæ€§èƒ½åˆ†æï¼š<br>
                        â€¢ è®¿é—®è®¡æ•° (view_count)<br>
                        â€¢ æœ€åè®¿é—®æ—¶é—´ (last_accessed_at)<br>
                        â€¢ APIè°ƒç”¨æ¬¡æ•° (api_call_count)
                    </p>
                </div>
                
                <div class="description-box">
                    <h4>æƒé™æ§åˆ¶å­—æ®µ</h4>
                    <p>
                        ç»†ç²’åº¦æƒé™ç®¡ç†ï¼š<br>
                        â€¢ å¯è§æ€§çº§åˆ« (visibility_level)<br>
                        â€¢ å…±äº«æƒé™åˆ—è¡¨ (shared_with)<br>
                        â€¢ ä¿®æ”¹æƒé™ (modify_permission)
                    </p>
                </div>
                
                <div class="description-box">
                    <h4>å›½é™…åŒ–æ”¯æŒ</h4>
                    <p>
                        å¤šè¯­è¨€å†…å®¹å­˜å‚¨ï¼š<br>
                        â€¢ è¯¾ç¨‹æè¿°å›½é™…åŒ–è¡¨ (course_descriptions_i18n)<br>
                        â€¢ å…¬å‘Šå›½é™…åŒ–è¡¨ (announcement_i18n)
                    </p>
                </div>
            </div>
        </div>
        
        <footer>
            <p>ç”Ÿæˆæ—¶é—´ï¼š<span id="generateTime"></span></p>
            <p>æ•°æ®åº“ç±»å‹ï¼šMySQL 8.0+ | å­—ç¬¦é›†ï¼šutf8mb4 | å¼•æ“ï¼šInnoDB</p>
        </footer>
    </div>
    
    <script>
        document.getElementById('generateTime').textContent = new Date().toLocaleString('zh-CN');
        mermaid.initialize({ startOnLoad: true, theme: 'default' });
        mermaid.contentLoaded();
    </script>
</body>
</html>
